<html>

<head>
  <script lang="js" src="../tools.js"></script>
  <script lang="js" src="../dataset/images.js"></script>
  <script lang="js" src="../features/generic.js"></script>
  <script lang="js" src="../features/pixels.js"></script>
  <script lang="js" src="../metrics/generic.js"></script>
  <script lang="js" src="../metrics/pixels.js"></script>
  <script lang="js" src="../similarity/generic.js"></script>
  <script lang="js" src="../similarity/pixels.js"></script>
  <script lang="js" src="../effects/photo_fill.js"></script>
  <script lang="js" src="../processing2.js"></script>
</head>

<body>
  <!-- the dataset we are using -->
  <img width="16" height="16" id='input1' src='../data/16_02.JPG'></img>
  <img width="16" height="16" id='input2' src='../data/16_03.JPG'></img>
  <img width="16" height="16" id='input3' src='../data/16_04.JPG'></img>
  <img width="16" height="16" id='input4' src='../data/16_05.JPG'></img>
  <img width="16" height="16" id='input5' src='../data/16_06.JPG'></img>
  <img width="16" height="16" id='input6' src='../data/16_07.JPG'></img>
  <img width="16" height="16" id='input7' src='../data/16_08.JPG'></img>
  <img width="16" height="16" id='input8' src='../data/16_09.JPG'></img>
  <img width="16" height="16" id='input9' src='../data/16_10.JPG'></img>
  <img width="16" height="16" id='input10' src='../data/16_11.JPG'></img>
  <img width="16" height="16" id='input11' src='../data/16_12.JPG'></img>
  <img width="16" height="16" id='input12' src='../data/16_13.JPG'></img>
  <br></br>
  <!-- button to trigger the doFill() function -->
  <button onclick="javascript:doFill()">Do fill!</button>
  <br></br>
  <img id="img0" src="../data/ii2d.png" width="40" height="20"></img>
  <br></br>
  <!--img id="big0" src="../data/ii2d.png" width="640" height="320"></img-->
  <canvas id="output0" width="640" height="320"></canvas>
  <br></br>
  <img id="img1" src="../data/16_02.JPG" width="40" height="20"></img>
  <br></br>
  <!--img id="big1" src="../data/16_02.JPG" width="640" height="320"></img><br></br-->
  <canvas id="output1" width="640" height="320"></canvas><br></br>

  <script lang="javascript">
    function doFill() {
      var proc = [], task = [], inputs = [];
      // first of all, get all input images (the dataset)
      for (var i = 1; i < 13; i++) inputs[i] = "input" + i;

      // create a dataset with our images
      _dataset = new datasets.ImageDataset(inputs);
      // create the task we are going to use for the photofill effect
      _task = new photo_fill.PhotoFillPixelsFromDatasetTask(_dataset, {});

      // fill first photo
      proc = new processing2("img0", _task, "output0");
      proc.do_process();

      // fill second photo
      proc = new processing2("img1", _task, "output1");
      proc.do_process();
    }
  </script>
</body>

</html>